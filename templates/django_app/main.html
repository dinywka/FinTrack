{% extends "components/base.html" %}
{% load static %}

{% block main %}

<div class="container mx-auto py-10 grid grid-cols-2 gap-6">

    <!-- Income Section -->
    <div class="border rounded-lg p-5 flex flex-col" id="add-income">
        <h2 class="text-2xl mb-5">–î–æ—Ö–æ–¥—ã</h2>

        <!-- Bank Accounts -->
        <div class="flex-grow">
            <h3 class="text-xl mb-3">–°—á–µ—Ç–∞:</h3>

            <!-- Account Entry -->
          <div class="flex items-center justify-between mb-3">
    <button class="inline-flex items-center justify-center rounded-full bg-emerald-100 px-2.5 py-0.5 text-emerald-700 popupbtn">
        <!-- Your Paid icon here -->
        <p class="whitespace-nowrap text-sm">–û—Å–Ω–æ–≤–Ω–æ–π —Å—á–µ—Ç</p>
    </button>
</div>


            <!-- More accounts here -->
        </div>

        <!-- Add Account Button -->
        <button class="mt-3 bg-blue-500 text-white py-2 px-4 rounded self-end popupbtn">–î–æ–±–∞–≤–∏—Ç—å —Å—á–µ—Ç</button>
    </div>

    <!-- Expenses Section -->
    <div class="border rounded-lg p-5 flex flex-col">
        <h2 class="text-2xl mb-5">–†–∞—Å—Ö–æ–¥—ã</h2>

        <!-- Categories -->
        <div class="flex-grow">
            <h3 class="text-xl mb-3">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏:</h3>

            <!-- Category Entry -->
            <div class="flex items-center justify-between mb-3">
                <button class="inline-flex items-center justify-center rounded-full bg-amber-100 px-2.5 py-0.5 text-amber-700" onclick="openModal('expense-modal')">
                    <!-- Your Failed icon here -->
                    <p class="whitespace-nowrap text-sm">–ö–æ–º—É—Å–ª—É–≥–∏</p>
                </button>
            </div>

            <!-- More categories here -->
        </div>

        <!-- Add Category Button -->
        <button class="mt-3 bg-blue-500 text-white py-2 px-4 rounded self-end">–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</button>
    </div>

</div>

<div class="overflow-x-auto">
  <table class="min-w-full divide-y-2 divide-gray-200 bg-white text-sm">
    <thead class="ltr:text-left rtl:text-right">
      <tr>
        <th class="whitespace-nowrap px-4 py-2 font-medium text-gray-900">
          –¢–∏–ø —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
        </th>
        <th class="whitespace-nowrap px-4 py-2 font-medium text-gray-900">
          –î–∞—Ç–∞
        </th>
        <th class="whitespace-nowrap px-4 py-2 font-medium text-gray-900">
          –°—É–º–º–∞
        </th>
        <th class="whitespace-nowrap px-4 py-2 font-medium text-gray-900">
          –ö–∞—Ç–µ–≥–æ—Ä–∏—è
        </th>
      </tr>
    </thead>
    <tbody class="divide-y divide-gray-200">
    {% for income in incomes %}
    <tr>
        <td class="whitespace-nowrap px-4 py-2 font-medium text-gray-900">
          Income
        </td>
        <td class="whitespace-nowrap px-4 py-2 text-gray-700">{{ income.datetime }}</td>
        <td class="whitespace-nowrap px-4 py-2 text-gray-700">{{ income.sum }}</td>
        <td class="whitespace-nowrap px-4 py-2 text-gray-700">{{ income.account.title }}</td>
    </tr>
    {% endfor %}
    {% for expense in expenses %}
    <tr>
        <td class="whitespace-nowrap px-4 py-2 font-medium text-gray-900">
          Expense
        </td>
        <td class="whitespace-nowrap px-4 py-2 text-gray-700">{{ expense.datetime }}</td>
        <td class="whitespace-nowrap px-4 py-2 text-gray-700">{{ expense.sum }}</td>
        <td class="whitespace-nowrap px-4 py-2 text-gray-700">{{ expense.category.title }}</td>
    </tr>
    {% endfor %}
   </tbody>
  </table>
</div>

<div class="popup-wrapper" style="display: none; position: fixed; width: 100%; height: 100%; top: 0; left: 0; background: rgba(0, 0, 0, 0.7); z-index: 1000;">

  <div class="popup" style="width: 400px; background: white; padding: 20px; position: relative; margin: 15% auto;">

    <div class="popup-close" style="position: absolute; top: 10px; right: 10px; cursor: pointer;">X</div>

    <div class="popup-content">

      <h1>This is the popup</h1>

      <!--
  Heads up! üëã

  Plugins:
    - @tailwindcss/forms
-->


{% if request.user.is_authenticated %}
    {% include 'components/modal.html' with expenses_categories=expenses_categories incomes_accounts=incomes_accounts %}
{% endif %}



  </div>
</div>


<script src="{% static 'js/my.js' %}"></script>


{% endblock %}
